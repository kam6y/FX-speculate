x-pms-dev-base: &pms-dev-base
  build:
    context: .
    dockerfile: Dockerfile
  working_dir: /workspace
  volumes:
    - .:/workspace:cached
  environment:
    PYTHONPATH: /workspace/Probabilistic-Market-Sensor/src
  command: ["bash"]

services:
  pms-dev:
    <<: *pms-dev-base

  pms-dev-gpu:
    <<: *pms-dev-base
    profiles: ["gpu"]
    gpus: all
